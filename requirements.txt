# requirements.txt - Python dependencies for SOAP Note Voice Recorder
# Compatible with Python 3.12

# Flask web framework
Flask==3.0.3
flask-cors==4.0.1

# OpenAI SDK (latest stable version, as of August 2025)
openai==1.98.0

# Environment variables
python-dotenv==1.0.1

# HTTP and typing (often resolved transitively, pinned here for stability)
requests==2.32.3
typing-extensions==4.14.1
setuptools>=68.0.0

# Audio helpers (ffmpeg is an external binary, install separately on system PATH)
ffmpeg-python==0.2.0

# Medical spell checking dependencies
textblob==0.18.0.post0
fuzzywuzzy==0.18.0
python-Levenshtein==0.25.1  # For better fuzzy matching performance - eliminates warning

# Medical NLP with spaCy and scispaCy
spacy>=3.7.0
scispacy>=0.5.4

# LangExtract (Google) - structured information extraction with grounded offsets
langextract>=0.1.0

# spaCy models (install after pip install)
# REQUIRED: Basic English model
# python -m spacy download en_core_web_sm

# OPTIONAL: Enhanced medical vocabulary models (for better accuracy)
# Run: python install_medical_models.py
# OR manually install:
# pip install https://s3-us-west-2.amazonaws.com/ai2-s2-scispacy/releases/v0.5.4/en_core_sci_sm-0.5.4.tar.gz
# pip install https://s3-us-west-2.amazonaws.com/ai2-s2-scispacy/releases/v0.5.4/en_ner_bc5cdr_md-0.5.4.tar.gz

# Database connectivity for Supabase
psycopg2-binary==2.9.9

# Testing (optional but repo includes tests)
pytest==8.3.2

# Notes:
# - transformers/torch/pydub/numpy/scipy were removed as they are not used by app.py
# - Ensure FFmpeg is installed separately and `ffmpeg` is available on PATH
# - python-Levenshtein provides significant speed improvements for fuzzywuzzy
